LastYrOut$Short2<- substr(LastYrOut$School.Short1, start=1, stop=7)
appCout$Short2<- substr(appCout$School.Short1, start=1, stop=7)
join2<-join(LastYrOut,appCout,by="Short2",type="inner")
LastYrOut2<-subset(LastYrOut,!(LastYrOut$Short2 %in% join2$Short2))
appCout2<-subset(appCout,!(appCout$School %in% join2$School))
View(join2)
join2<-join2[-c(4,5,13)]
View(join2)
join2<-join(LastYrOut,appCout,by="Short2",type="inner")
join2<-join2[-c(4,5,12)]
LastYrOut2$School.Short1<-ifelse(LastYrOut2$School.Short1=="bannekerhs", "benjaminbannekerhs",
ifelse(LastYrOut2$School.Short1=="adamsoysteradams","oysteradamsbilingual(adams)",
ifelse(LastYrOut2$School.Short1=="oysteroysteradams","oysteradamsbilingual(oyster)",
ifelse(LastYrOut2$School.Short1=="wteducationcampus","wt",
ifelse(LastYrOut2$School.Short1=="hdwoodsonhs","woodson,hdhs",
ifelse(LastYrOut2$School.Short1=="hearstms","hearst",
LastYrOut2$School.Short1 ))))))
join3<-join(LastYrOut2,appCout2,by="School.Short1",type="full")
View(join3)
join2<-join(LastYrOut,appCout,by="Short2",type="inner")
LastYrOut2<-subset(LastYrOut,!(LastYrOut$Short2 %in% join2$Short2))
appCout2<-subset(appCout,!(appCout$School %in% join2$School))
LastYrOut2$School.Short1<-ifelse(LastYrOut2$School.Short1=="bannekerhs", "benjaminbannekerhs",
ifelse(LastYrOut2$School.Short1=="adamsoysteradams","oysteradamsbilingual(adams)",
ifelse(LastYrOut2$School.Short1=="oysteroysteradams","oysteradamsbilingual(oyster)",
ifelse(LastYrOut2$School.Short1=="wteducationcampus","wt",
ifelse(LastYrOut2$School.Short1=="hdwoodsonhs","woodson,hdhs",
ifelse(LastYrOut2$School.Short1=="hearstms","hearst",
LastYrOut2$School.Short1 ))))))
join3<-join(LastYrOut2,appCout2,by="School.Short1",type="full")
join2<-join(LastYrOut,appCout,by="Short2",type="inner")
View(join2)
View(LastYrOut)
LastYrOut2<-subset(LastYrOut,!(LastYrOut$Short2 %in% join2$Short2))
join1<-join(appC.DCPS,DCPS.LastYr,by="School.Short1",type="inner")
LastYrOut<-subset(DCPS.LastYr,!(DCPS.LastYr$School.Short1 %in% join1$School.Short1))
appCout<-subset(appC.DCPS,!(appC.DCPS$School %in% join1$School))
LastYrOut$Short2<- substr(LastYrOut$School.Short1, start=1, stop=7)
appCout$Short2<- substr(appCout$School.Short1, start=1, stop=7)
join1<-join1[c(-7)]
join2<-join(LastYrOut,appCout,by="Short2",type="inner")
LastYrOut2<-subset(LastYrOut,!(LastYrOut$Short2 %in% join2$Short2))
appCout2<-subset(appCout,!(appCout$School %in% join2$School))
join2<-join2[-c(4,5,12)]
LastYrOut2$School.Short1<-ifelse(LastYrOut2$School.Short1=="bannekerhs", "benjaminbannekerhs",
ifelse(LastYrOut2$School.Short1=="adamsoysteradams","oysteradamsbilingual(adams)",
ifelse(LastYrOut2$School.Short1=="oysteroysteradams","oysteradamsbilingual(oyster)",
ifelse(LastYrOut2$School.Short1=="wteducationcampus","wt",
ifelse(LastYrOut2$School.Short1=="hdwoodsonhs","woodson,hdhs",
ifelse(LastYrOut2$School.Short1=="hearstms","hearst",
LastYrOut2$School.Short1 ))))))
join3<-join(LastYrOut2,appCout2,by="School.Short1",type="full")
join3<-join3[-c(4,5)]
DCPS.appC.Yr<-rbind(join1,join2,join3)
View(DCPS.appC.Yr)
rm("join1", "join2", "join3","LastYrOut","LastYrOut2","appCout","appCout2")
View(DCPS.appC.Yr)
View(DCPS.Facility)
DCPS.appC.Yr$SchoolJoin<-textedit(DCPS.appC.Yr$School)
DCPS.Facility$SchoolJoin<-textedit(DCPS.Facility$School)
DCPS.appC.Yr$School.Short1<-textedit(DCPS.appC.Yr$School.Short)
DCPS.Facility$School.Short1<-textedit(DCPS.Facility$School.Short)
join1<-join(DCPS.appC.Yr,DCPS.Facility,by="School.Short1",type="inner")
join1<-join1[c("Agency","School","SCHOOLCODE","School.Short","School.Short1","Address","maxOccupancy","Enroll.Cap",
"ProjectPhase","YrComplete","SchoolJoin","Level","totalSQFT","ProjectType",
"MajorExp9815","TotalAllotandPlan1621","LifetimeBudget")]
appCout<-subset(DCPS.appC.Yr,!(DCPS.appC.Yr$School.Short1 %in% join1$School.Short1))
Facout<-subset(DCPS.Facility,!(DCPS.Facility$School.Short1 %in% join1$School.Short1))
join2<-join(appCout,Facout,by="SchoolJoin",type="inner")
join2<-join2[c("Agency","School","SCHOOLCODE","School.Short","School.Short1","Address","maxOccupancy","Enroll.Cap",
"ProjectPhase","YrComplete","SchoolJoin","Level","totalSQFT","ProjectType",
"MajorExp9815","TotalAllotandPlan1621","LifetimeBudget")]
appCout2<-subset(appCout,!(appCout$SchoolJoin %in% join2$SchoolJoin))
Facout2<-subset(Facout,!(Facout$SchoolJoin %in% join2$SchoolJoin))
appCout2$SchoolJoin<-ifelse(appCout2$SchoolJoin=="brooklandeducationcampus@bunkerhill","formerbrookland@bunkerhill/ms",
ifelse(appCout2$SchoolJoin=="malcolmxschool","malcolmxatgreen",
ifelse(appCout2$SchoolJoin=="capitolhillmontsorischool@logan","capitolhillmontsori@logan/ms",
ifelse(appCout2$SchoolJoin=="lukecmoorehsschool","lukemoorehsschool",
ifelse(appCout2$SchoolJoin=="prosptlearningcenter","schoolwithinschool@goding",
ifelse(appCout2$SchoolJoin=="oysteradamsbilingualschool(adams)","adamsoysterbilingualschool(adams)",
ifelse(appCout2$SchoolJoin=="woodson,hdhs","hdwoodsonhs",
ifelse(appCout2$SchoolJoin=="sharpehealthschool","formerspedschool",
appCout2$SchoolJoin))))))))
appCout2$SchoolJoin<-ifelse(appCout2$School.Short=="brooklandms","brooklandmsschool",appCout2$SchoolJoin)
join3<-join(appCout2,Facout2,by="SchoolJoin",type="full")
View(join3)
join1<-join(DCPS.appC.Yr,DCPS.Facility,by="School.Short1",type="inner")
View(join1)
View(DCPS.Facility)
View(DCPS.Facility)
colnames(DCPS.Facility)[c(1:2)]<-c("Facility.School.Short","Facility.School")
join1<-join(DCPS.appC.Yr,DCPS.Facility,by="School.Short1",type="inner")
join1<-join1[c("Agency","School","SCHOOLCODE","School.Short","School.Short1","Address","maxOccupancy","Enroll.Cap",
"ProjectPhase","YrComplete","SchoolJoin","Level","totalSQFT","ProjectType",
"MajorExp9815","TotalAllotandPlan1621","LifetimeBudget","Facility.School.Short","Facility.School")]
appCout<-subset(DCPS.appC.Yr,!(DCPS.appC.Yr$School.Short1 %in% join1$School.Short1))
Facout<-subset(DCPS.Facility,!(DCPS.Facility$School.Short1 %in% join1$School.Short1))
join2<-join(appCout,Facout,by="SchoolJoin",type="inner")
join2<-join2[c("Agency","School","SCHOOLCODE","School.Short","School.Short1","Address","maxOccupancy","Enroll.Cap",
"ProjectPhase","YrComplete","SchoolJoin","Level","totalSQFT","ProjectType",
"MajorExp9815","TotalAllotandPlan1621","LifetimeBudget","Facility.School.Short","Facility.School")]
appCout2<-subset(appCout,!(appCout$SchoolJoin %in% join2$SchoolJoin))
Facout2<-subset(Facout,!(Facout$SchoolJoin %in% join2$SchoolJoin))
appCout2$SchoolJoin<-ifelse(appCout2$SchoolJoin=="brooklandeducationcampus@bunkerhill","formerbrookland@bunkerhill/ms",
ifelse(appCout2$SchoolJoin=="malcolmxschool","malcolmxatgreen",
ifelse(appCout2$SchoolJoin=="capitolhillmontsorischool@logan","capitolhillmontsori@logan/ms",
ifelse(appCout2$SchoolJoin=="lukecmoorehsschool","lukemoorehsschool",
ifelse(appCout2$SchoolJoin=="prosptlearningcenter","schoolwithinschool@goding",
ifelse(appCout2$SchoolJoin=="oysteradamsbilingualschool(adams)","adamsoysterbilingualschool(adams)",
ifelse(appCout2$SchoolJoin=="woodson,hdhs","hdwoodsonhs",
ifelse(appCout2$SchoolJoin=="sharpehealthschool","formerspedschool",
appCout2$SchoolJoin))))))))
appCout2$SchoolJoin<-ifelse(appCout2$School.Short=="brooklandms","brooklandmsschool",appCout2$SchoolJoin)
join3<-join(appCout2,Facout2,by="SchoolJoin",type="full")
DCPS.appC.Facility<-rbind(join1,join2,join3)
View(DCPS.appC.Facility)
DCPS.appC.Facility<-rbind(join1,join2,join3)[-c(5,11)]
rm("join1", "join2", "join3","Facout","Facout2","appCout","appCout2")
IndptBuilding<-subset(DCPS.appC.Facility,!grepl("/",DCPS.appC.Facility$SCHOOLCODE))
DptBuilding<-subset(DCPS.appC.Facility,grepl("/",DCPS.appC.Facility$SCHOOLCODE))
IndptBuilding$SCHOOLCODE<-ifelse(IndptBuilding$School.Short=="jeffersonms",415,
ifelse(IndptBuilding$School.Short=="langley",235,
ifelse(IndptBuilding$School.Short=="vanns",331,
ifelse(IndptBuilding$School.Short=="capitolhillmontsori@logan",629,
ifelse(IndptBuilding$School.Short=="schoolwithinaschool@goding",943,
ifelse(IndptBuilding$School.Short=="brooklandms",9,
ifelse(IndptBuilding$School.Short=="oysteradamsbilingual(adams)",292,
ifelse(IndptBuilding$School.Short=="riverterrace",304,
ifelse(IndptBuilding$School.Short=="eliothinems",407,
IndptBuilding$SCHOOLCODE)))))))))
join1<-join(IndptBuilding,budgetDCPSunq,by="SCHOOLCODE",type="inner")
join1$BuildingCode<-join1$SCHOOLCODE
Bout<-subset(budgetDCPSunq,!(budgetDCPSunq$SCHOOLCODE %in% join1$SCHOOLCODE))
school <- DptBuilding[rep(row.names(DptBuilding),2),]
school$BuildingCode<-school$SCHOOLCODE
View(school)
View(budgetDCPSunq)
View(budgetDCPSunq)
View(DCPS.appC.Facility)
IndptBuilding<-subset(DCPS.appC.Facility,!grepl("/",DCPS.appC.Facility$SCHOOLCODE))
DptBuilding<-subset(DCPS.appC.Facility,grepl("/",DCPS.appC.Facility$SCHOOLCODE))
IndptBuilding$SCHOOLCODE<-ifelse(IndptBuilding$School.Short=="jeffersonms",415,
ifelse(IndptBuilding$School.Short=="langley",235,
ifelse(IndptBuilding$School.Short=="vanns",331,
ifelse(IndptBuilding$School.Short=="capitolhillmontsori@logan",629,
ifelse(IndptBuilding$School.Short=="schoolwithinaschool@goding",943,
ifelse(IndptBuilding$School.Short=="brooklandms",9,
ifelse(IndptBuilding$School.Short=="oysteradamsbilingual(adams)",292,
ifelse(IndptBuilding$School.Short=="riverterrace",304,
ifelse(IndptBuilding$School.Short=="eliothinems",407,
IndptBuilding$SCHOOLCODE)))))))))
join1<-join(IndptBuilding,budgetDCPSunq,by="SCHOOLCODE",type="inner")
join1$BuildingCode<-join1$SCHOOLCODE
Bout<-subset(budgetDCPSunq,!(budgetDCPSunq$SCHOOLCODE %in% join1$SCHOOLCODE))
school <- DptBuilding[rep(row.names(DptBuilding),2),]
school$BuildingCode<-school$SCHOOLCODE
school<-school[(3:10),-(3)]
buildingcode<-as.data.frame(c(459,452,312,435,458,456,462,265))
colnames(buildingcode)<-"SCHOOLCODE"
tojoin<-cbind(school,buildingcode)
join2<-join(tojoin,Bout,by="SCHOOLCODE",type="full")
appC.budget<-rbind(join1,join2)
View(appC.budget)
rm("join1","join2","IndptBuilding","DptBuilding","school","tojoin","Bout")
View(Feeder)
View(Feeder)
colnames(Feeder)[c(1)]<-c("school.name.F")
Feeder$SCHOOLCODE<-ifelse(Feeder$school.name.F=="MCKINLEY  MS",435,
Feeder$SCHOOLCODE)
appC.budget$SCHOOLCODE<-ifelse(appC.budget$School.Short=="malcolmx@green",244,
ifelse(appC.budget$School.Short=="wheatley",337,
ifelse(appC.budget$School.Short=="hardyms",2010,
ifelse(appC.budget$School.Short=="schoolwithoutwallshs",243,
ifelse(appC.budget$School.Short=="washingtonmeths",123,
ifelse(appC.budget$School.Short=="capitolhillmontsori@logan",269,
ifelse(appC.budget$School.Short=="schoolwithinaschool@goding",242,
ifelse(appC.budget$School.Short=="brooklandms",346,
appC.budget$SCHOOLCODE))))))))
appC.budget$SCHOOLCODE<-ifelse(appC.budget$School.Short=="brooklandms",346,
ifelse(appC.budget$School.Short=="eaton",232,
ifelse(appC.budget$School.Short=="oysteradamsbilingual(oyster)",292,
appC.budget$SCHOOLCODE)))
appC.budget$SCHOOLCODE<-ifelse(appC.budget$SCHOOLCODE==296,293,
ifelse(appC.budget$SCHOOLCODE==235,134,
ifelse(appC.budget$SCHOOLCODE==232,407,
ifelse(appC.budget$SCHOOLCODE==346,219,
ifelse(appC.budget$SCHOOLCODE==292,201,
ifelse(appC.budget$SCHOOLCODE==456,459,
ifelse(appC.budget$SCHOOLCODE==9,346,
ifelse(appC.budget$SCHOOLCODE==232,232,
appC.budget$SCHOOLCODE))))))))
DCPS<-join(appC.budget,Feeder,by="SCHOOLCODE",type="left")
DCPS$SchoolFullName<-ifelse(is.na(DCPS$School),DCPS$SCHOOLNAME,DCPS$School)
DCPS$SCHOOLCODE<-ifelse(DCPS$SchoolFullName=="Wheatley Education Campus",335,
ifelse(DCPS$SchoolFullName=="Hardy Middle School",246,
ifelse(DCPS$SchoolFullName=="Jefferson Middle School",433,
ifelse(DCPS$SchoolFullName=="School Without Walls High School",466,
ifelse(DCPS$SchoolFullName=="Bruce-Monroe Elementary School @ Park View",296,
ifelse(DCPS$SchoolFullName=="Washington Metropolitan High School",474,
ifelse(DCPS$SchoolFullName=="Brookland Education Campus @ Bunker Hill",346,
ifelse(DCPS$SchoolFullName=="Malcolm X Elementary School",308,
ifelse(DCPS$SchoolFullName=="Capitol Hill Montessori School @ Logan",360,
ifelse(DCPS$SchoolFullName=="CHOICE Academy",947,
ifelse(DCPS$SchoolFullName=="Incarcerated Youth Program",480,
ifelse(DCPS$SchoolFullName=="Youth Services Center",861,
ifelse(DCPS$SchoolFullName=="Dorothy Height ES",000,
ifelse(DCPS$SchoolFullName=="Langley Education Campus",370,
DCPS$SCHOOLCODE
))))))))))))))
DCPS.Final<-join(DCPS,enroll,by="SCHOOLCODE",type="left")
View(DCPS.Final)
View(DCPS.Final)
DCPS.Final<-join(DCPS,enroll,by="SCHOOLCODE",type="left")[c(1:5,16:20,26,29,32)]
View(DCPS.Final)
write.csv(DCPS.Final,
"/Users/katerabinowitz/Documents/CodeforDC/school-modernization/QC data/DCPS_QC.csv",
row.names=FALSE)
score<-read.csv("/Users/katerabinowitz/Documents/Stanford Grad/STATS290/CollegeScorecardDataDictionary-09-12-2015.csv")
View(score)
score<-read.csv("/Users/katerabinowitz/Documents/Stanford Grad/STATS290/MERGED2013_PP.csv")
View(score)
}
makePerson <- function(lastName = "", firstName = "") {
getLastName <- function() lastName
getFirstName <- function() firstName
setLastName <- function(what)
lastName <<- what
setFirstName <- function(what)
firstName <<- what
getFullName <- function()
paste(lastName, firstName, sep = ", ")
list(getFullName = getFullName,
getFirstName = getFirstName,
getLastName = getLastName,
setFirstName = setFirstName,
setLastName = setLastName)
}
p1 <- makePerson("Blow", "Joe")
p1$setLastName("Sixpack")
p1$getLastName()
p1 <- makePerson("Blow", "Joe")
p1
p1$getFullName
p1$getFullName()
makePerson2 <- function(x = "", y = "") {
getLastName <- function() lastName
getFirstName <- function() firstName
setLastName <- function(what)
lastName <<- what
setFirstName <- function(what)
firstName <<- what
getFullName <- function()
paste(lastName, firstName, sep = ", ")
list(getFullName = getFullName,
getFirstName = getFirstName,
getLastName = getLastName,
setFirstName = setFirstName,
setLastName = setLastName)
}
p2 <- makePerson2("Blow", "Joe")
p2$setLastName("Sixpack")
p2$getLastName()
p1$getLastName()
p2$getFullName()
p2 <- makePerson2("Blow", "Joe")
p2$getLastName()
p2 <- makePerson2("Blow", "Joe")
makePerson <- function(lastName = "", firstName = "") {
getLastName <- function() lastName
getFirstName <- function() firstName
setLastName <- function(what)
lastName <<- what
setFirstName <- function(what)
firstName <<- what
getFullName <- function()
paste(lastName, firstName, sep = ", ")
list(getFullName = getFullName,
getFirstName = getFirstName,
getLastName = getLastName,
setFirstName = setFirstName,
setLastName = setLastName)
}
p1 <- makePerson("Blow", "Joe")
p1$setLastName("Sixpack")
p1$getLastName()
makePerson2 <- function(x = "", y = "") {
getLastName <- function() lastName
getFirstName <- function() firstName
setLastName <- function(what)
lastName <<- what
setFirstName <- function(what)
firstName <<- what
getFullName <- function()
paste(lastName, firstName, sep = ", ")
list(getFullName = getFullName,
getFirstName = getFirstName,
getLastName = getLastName,
setFirstName = setFirstName,
setLastName = setLastName)
}
p2 <- makePerson2("Blow", "Joe")
p2$getLastName()
p2$getFullName()
p2$setLastName("Sixpack")
p2$getLastName()
p2$getFullName()
currentOut<-read.csv("https://raw.githubusercontent.com/codefordc/school-modernization/master/Output%20Data/DC_Schools_Master_114.csv")[c(1,2)]
View(currentOut)
View(currentOut)
rownames(currentOut)
currentOut<-read.csv("https://raw.githubusercontent.com/codefordc/school-modernization/master/Output%20Data/DC_Schools_Master_114.csv")[c(1,2,11)]
View(currentOut)
currentOut<-read.csv("https://raw.githubusercontent.com/codefordc/school-modernization/master/Output%20Data/DC_Schools_Master_114.csv")[c(1,2,10)]
View(currentOut)
currentOut$ProjectType<-ifelse(CurrentOut$Agency=="PCS","Annual Allotment",
currentOut$ProjectType)
currentOut$ProjectType<-ifelse(currentOut$Agency=="PCS","Annual Allotment",
currentOut$ProjectType)
currentOut<-read.csv("https://raw.githubusercontent.com/codefordc/school-modernization/master/Output%20Data/DC_Schools_Master_114.csv")[c(1,2,10:12)]
currentOut$ProjectType<-ifelse(currentOut$Agency=="PCS","Annual Allotment",
currentOut$ProjectType)
View(currentOut)
currentOut$MajorExp9815<-ifelse(currentOut$rowname>116 & currentOut$rowname<150, 654525,
ifelse(currentOut$rowname>149 & currentOut$rowname<180, 875743,
ifelse(currentOut$rowname>179 & currentOut$rowname>200, 987524,
ifelse(currentOut$rowname>199 & currentOut$rowname>242, 143258,
currentOut$MajorExp9815)))
)
currentOut$MajorExp9815<-ifelse(currentOut$rownumber>116 & currentOut$rownumber<150, 654525,
ifelse(currentOut$rownumber>149 & currentOut$rownumber<180, 875743,
ifelse(currentOut$rownumber>179 & currentOut$rownumber>200, 987524,
ifelse(currentOut$rownumber>199 & currentOut$rownumber>242, 143258,
currentOut$MajorExp9815))))
currentOut$rownumber
currentOut$rownumber = 1:nrow(Data)
currentOut$rownumber = 1:nrow(currentOut)
View(currentOut)
currentOut$MajorExp9815<-ifelse(currentOut$rownumber>116 & currentOut$rownumber<150, 654525,
ifelse(currentOut$rownumber>149 & currentOut$rownumber<180, 875743,
ifelse(currentOut$rownumber>179 & currentOut$rownumber>200, 987524,
ifelse(currentOut$rownumber>199 & currentOut$rownumber>242, 143258,
currentOut$MajorExp9815))))
View(currentOut)
currentOut$MajorExp9815<-ifelse(currentOut$rownumber>116 & currentOut$rownumber<150, 654525,
ifelse(currentOut$rownumber>149 & currentOut$rownumber<180, 875743,
ifelse(currentOut$rownumber>179 & currentOut$rownumber<200, 987524,
ifelse(currentOut$rownumber>199 & currentOut$rownumber>242, 143258,
currentOut$MajorExp9815))))
View(currentOut)
currentOut$TotalAllotandPlan1621<-ifelse(currentOut$rownumber>116 & currentOut$rownumber<150, 41548,
ifelse(currentOut$rownumber>149 & currentOut$rownumber<180, 875957,
ifelse(currentOut$rownumber>179 & currentOut$rownumber<200, 65621,
ifelse(currentOut$rownumber>199 & currentOut$rownumber>242, 54521,
currentOut$TotalAllotandPlan1621))))
View(currentOut)
currentOut$MajorExp9815<-ifelse(currentOut$rownumber>116, runif(1, 1000, 60000),
currentOut$MajorExp9815)
View(currentOut)
242-117
currentOut$MajorExp9815<-ifelse(currentOut$rownumber>116, runif(125, 1000, 60000),
currentOut$MajorExp9815)
View(currentOut)
format(currentOut$MajorExp9815,digits=10)
options(scipen=999)
currentOut$MajorExp9815<-ifelse(currentOut$rownumber>116, runif(125, 1000, 60000),
currentOut$MajorExp9815)
View(currentOut)
format(round(currentOut$MajorExp9815, 2), nsmall = 2)
currentOut$MajorExp9815<-as.numeric(format(round(currentOut$MajorExp9815, 2), nsmall = 2))
View(currentOut)
View(currentOut)
currentOut$TotalAllotandPlan1621<-ifelse(currentOut$rownumber>116, runif(125, 1000, 60000),
currentOut$TotalAllotandPlan1621)
currentOut$TotalAllotandPlan1621<-as.numeric(format(round(currentOut$TotalAllotandPlan1621, 2), nsmall = 2))
View(currentOut)
currentOut$SubProject<-rep(NA,242)
View(currentOut)
OutExpand <- CurrentOut[rep(Current$rownumber==3, 2), 1:7]
OutExpand <- currentOut[rep(currentOut$rownumber==3, 2), 1:7]
View(OutExpand)
OutExpand <- currentOut[(1,5,9,11,50,63,72,91,82,85,111,46,20,34,61), 1:7]
OutExpand <- currentOut[c(1,5,9,11,50,63,72,91,82,85,111,46,20,34,61), 1:7]
View(OutExpand)
View(currentOut)
currentOut<-read.csv("https://raw.githubusercontent.com/codefordc/school-modernization/master/Output%20Data/DC_Schools_Master_114.csv")[c(1,2,10:12)]
View(currentOut)
options(scipen=999)
View(currentOut)
currentOut$ProjectType<-ifelse(currentOut$Agency=="PCS","Annual Allotment",
currentOut$ProjectType)
View(currentOut)
currentOut<-read.csv("https://raw.githubusercontent.com/codefordc/school-modernization/master/Output%20Data/DC_Schools_Master_114.csv")[c(1,2,10:12)]
options(scipen=999)
currentOut$ProjectType<-ifelse(currentOut$Agency=="PCS","Annual Allotment",
as.character(currentOut$ProjectType))
View(currentOut)
currentOut$rownumber = 1:nrow(currentOut)
currentOut$MajorExp9815<-ifelse(currentOut$rownumber>116, runif(125, 1000, 60000),
currentOut$MajorExp9815)
currentOut$MajorExp9815<-as.numeric(format(round(currentOut$MajorExp9815, 2), nsmall = 2))
currentOut$TotalAllotandPlan1621<-ifelse(currentOut$rownumber>116, runif(125, 1000, 60000),
currentOut$TotalAllotandPlan1621)
currentOut$TotalAllotandPlan1621<-as.numeric(format(round(currentOut$TotalAllotandPlan1621, 2), nsmall = 2))
currentOut$SubProject<-rep(NA,242)
View(OutExpand)
OutExpand <- currentOut[c(1,5,9,11,50,63,72,91,82,48,85,111,46,99,20,34,61), 1:7]
View(OutExpand)
table(OutExpand$ProjectType)
OutExpand$ProjectType<-ifelse(OutExpand$ProjectType=="FULL MOD + ADD","PARTIAL MOD",
ifelse(OutExpand$ProjectType=="STABILIZED ","FULL MOD + ADD",
"PARTIAL MOD"))
OutExpand$MajorExp9815<-OutExpand$MajorExp9815/2.2
OutExpand$TotalAllotandPlan1621<-TotalAllotandPlan1621*1.6
OutExpand$TotalAllotandPlan1621<-OutExpand$TotalAllotandPlan1621*1.6
View(OutExpand)
table(currentOut)
table(currentOut$ProjectType)
SubProject<-c("Windows","Doors","Paint","Brick","Floors","Ceiling","Roof","Tech","Appliances","Classroom","Dummy1","Dummy2",
"Dummy3","Dummy4","Dummy5","Dummy6","Dummy7","Dummy8","Dummy9","Dummy10","Dummy11","Dummy12","Dummy13",
"Dummy14","Dummy15","Dummy16","Dummy17","Dummy18","Dummy19","Dummy20")
Project<-rep(c("FULL MOD","FULL MOD + ADD","FULL REPLACEMENT","PARTIAL MOD","PARTIAL MOD + ADD","STABILIZED"),6)
Project<-rep(c("FULL MOD","FULL MOD + ADD","FULL REPLACEMENT","PARTIAL MOD","PARTIAL MOD + ADD","STABILIZED"),5)
MajorExp9815<-runif(30, 1000, 60000)
TotalAllotandPlan1621<-runif(30, 1000, 60000)
View(currentOut)
Agency<-rep("Multischool",30)
School<-rep(NA,30)
SingleSchool<-rbind(currentOut,OutExpand)
View(SingleSchool)
SingleSchool<-rbind(currentOut,OutExpand)[c(1:5,7)]
SubProject<-c("Windows","Doors","Paint","Brick","Floors","Ceiling","Roof","Tech","Appliances","Classroom","Dummy1","Dummy2",
"Dummy3","Dummy4","Dummy5","Dummy6","Dummy7","Dummy8","Dummy9","Dummy10","Dummy11","Dummy12","Dummy13",
"Dummy14","Dummy15","Dummy16","Dummy17","Dummy18","Dummy19","Dummy20","Dummy21","Dummy22","Dummy23","Dummy24",
"Dummy25","Dummy26","Dummy27","Dummy28","Dummy29","Dummy30","Dummy31","Dummy32","Dummy33","Dummy34","Dummy35",
"Dummy36")
48/6
SubProject<-c("Windows","Doors","Paint","Brick","Floors","Ceiling","Roof","Tech","Appliances","Classroom","Dummy1","Dummy2",
"Dummy3","Dummy4","Dummy5","Dummy6","Dummy7","Dummy8","Dummy9","Dummy10","Dummy11","Dummy12","Dummy13",
"Dummy14","Dummy15","Dummy16","Dummy17","Dummy18","Dummy19","Dummy20","Dummy21","Dummy22","Dummy23","Dummy24",
"Dummy25","Dummy26","Dummy27","Dummy28","Dummy29","Dummy30","Dummy31","Dummy32","Dummy33","Dummy34","Dummy35",
"Dummy36","Dumy37","Dummy38")
Project<-rep(c("FULL MOD","FULL MOD + ADD","FULL REPLACEMENT","PARTIAL MOD","PARTIAL MOD + ADD","STABILIZED"),5)
Project<-rep(c("FULL MOD","FULL MOD + ADD","FULL REPLACEMENT","PARTIAL MOD","PARTIAL MOD + ADD","STABILIZED"),8)
MajorExp9815<-runif(48, 1000, 60000)
TotalAllotandPlan1621<-runif(48, 1000, 60000)
Agency<-rep("Multischool",48)
School<-rep(NA,48)
Multischool<-as.data.frame(cbind(Agency,MajorExp9815,TotalAllotandPlan1621,Agency,School, Project,SubProject))
Multischool<-as.data.frame(cbind(Agency,MajorExp9815,TotalAllotandPlan1621,School, Project,SubProject))
DummyData<-rbind(Multischool,SingleSchool)
View(Multischool)
colnames(SingleSchool)
colnames(Multischool)
ProjectType<-rep(c("FULL MOD","FULL MOD + ADD","FULL REPLACEMENT","PARTIAL MOD","PARTIAL MOD + ADD","STABILIZED"),8)
Multischool<-as.data.frame(cbind(Agency,MajorExp9815,TotalAllotandPlan1621,School, ProjectType,SubProject))
DummyData<-rbind(Multischool,SingleSchool)
str(Multischool)
Multischool<-as.data.frame(cbind(Agency,MajorExp9815,TotalAllotandPlan1621,School, ProjectType,SubProject),
stringsAsFactors=FALSE)
str(Multischool)
DummyData<-rbind(Multischool,SingleSchool)
View(DummyData)
write.csv(DummyData,
"/Users/katerabinowitz/Documents/CodeforDC/school-modernization/Output Data/donutDummyData.csv",
row.names=FALSE)
d<-readRDS("/Users/katerabinowitz/Documents/Stanford Grad/STATS290/1904Prarie.rds")
View(d)
nrow(complete.cases(d$Flight))
nrow(complete.cases(d$FLIGHT))
(complete.cases(d$FLIGHT)
)
sum(complete.cases(d$FLIGHT))
sum(nrows(complete.cases(d$FLIGHT)))
sum(nrow(complete.cases(d$FLIGHT)))
sum(complete.cases(d$FLIGHT)==TRUE)
length(which(!is.na(d$FLIGHT)))
length(which(d$FLIGHT!=""))
d<-d[order(d$FLIGHT),]
View(d)
d<-d[-order(d$FLIGHT),]
d<-readRDS("/Users/katerabinowitz/Documents/Stanford Grad/STATS290/1904Prarie.rds")
d<-d[order(-d$FLIGHT),]
d<-d[order(d$FLIGHT),]
View(d)
131-46
d<-readRDS("/Users/katerabinowitz/Documents/Stanford Grad/STATS290/1904Prarie.rds")
View(d)
length(which(d$FLIGHT!=""))
length(which(d$PILOT!=""))
length(which(d$TIME!=""))
length(which(d$DISTANCE!=""))
length(which(d$ALTITUDE!=""))
length(which(d$ALTITUDE!=""))
length(which(d$TIME!="" & d!DISTANCE!=""))
length(which(d$TIME!="" & d$DISTANCE!=""))
enroll<-read.csv("https://raw.githubusercontent.com/codefordc/school-modernization/master/InputData/2014-15%20Enrollment%20Audit.csv",
stringsAsFactors=FALSE, strip.white=TRUE)[c(1,4:21,25:30)]
View(enroll)
Feeder<-read.csv("https://raw.githubusercontent.com/codefordc/school-modernization/master/InputData/Simple%20Fdrs%20for%2014-15-Table%201.csv",
stringsAsFactors=FALSE, strip.white=TRUE)[c(1:2,4:5)]
View(Feeder)
d<-readRDS("/Users/katerabinowitz/Documents/Stanford Grad/STATS290/1904Prarie.rds")
View(d)
d<-readRDS("/Users/katerabinowitz/Documents/Stanford Grad/STATS290/1904Prarie.rds")
length(which(d$FLIGHT!=""))
HSMap=readOGR("http://opendata.dc.gov/datasets/d2e0486155144b6d8e11e12469a64b1c_15.geojson","OGRGeoJson")
setwd("/Users/katerabinowitz/Documents/CodeforDC/school-modernization/Output Data")
library(rgdal)
HSMap=readOGR("http://opendata.dc.gov/datasets/d2e0486155144b6d8e11e12469a64b1c_15.geojson","OGRGeoJson")
HSMap=readOGR("http://opendata.dc.gov/datasets/d2e0486155144b6d8e11e12469a64b1c_15.geojson","OGRGeoJson")
HSMap=readOGR("http://opendata.dc.gov/datasets/d2e0486155144b6d8e11e12469a64b1c_15.geojson","OGRGeoJson")
HSMap=readOGR("/Users/katerabinowitz/Documents/CodeforDC/hs.geojson","OGRGeoJson")
